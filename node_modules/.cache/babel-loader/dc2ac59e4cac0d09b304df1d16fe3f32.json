{"remainingRequest":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\iRipple\\Desktop\\cx-web-vue\\src\\views\\ChangePassword.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\src\\views\\ChangePassword.vue","mtime":1576658292000},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\iRipple\\\\Desktop\\\\cx-web-vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Navigation from '@/components/Navigation.vue';\nimport Sidebar from '@/components/Sidebar.vue';\nimport axios from 'axios';\nexport default {\n  name: 'ChangePassword',\n  mounted: function mounted() {},\n  data: function data() {\n    return {\n      oldPassword: '',\n      newPassword: '',\n      retypePassword: ''\n    };\n  },\n  components: {\n    Navigation: Navigation,\n    Sidebar: Sidebar\n  },\n  methods: {\n    changePassword: function () {\n      var _changePassword = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var _this = this;\n\n        var token, apiDomain, currentUser, newPassword, oldPassword, retypePassword, res;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return localStorage.getItem(\"apiToken\");\n\n              case 2:\n                token = _context.sent;\n                _context.next = 5;\n                return localStorage.getItem(\"apiDomain\");\n\n              case 5:\n                apiDomain = _context.sent;\n                _context.next = 8;\n                return localStorage.getItem(\"currentUser\");\n\n              case 8:\n                currentUser = _context.sent;\n                newPassword = document.getElementById(\"newPassword\").value;\n                oldPassword = document.getElementById(\"oldPassword\").value;\n                retypePassword = document.getElementById(\"retypePassword\").value;\n\n                if (oldPassword == \"\") {\n                  document.getElementById(\"oldPassword\").classList.add('is-invalid');\n                } else {\n                  document.getElementById(\"oldPassword\").classList.remove('is-invalid');\n                }\n\n                if (!(newPassword == \"\" && retypePassword == \"\")) {\n                  _context.next = 18;\n                  break;\n                }\n\n                document.getElementById(\"newPassword\").classList.add('is-invalid');\n                document.getElementById(\"retypePassword\").classList.add('is-invalid');\n                _context.next = 26;\n                break;\n\n              case 18:\n                document.getElementById(\"newPassword\").classList.remove('is-invalid');\n                document.getElementById(\"retypePassword\").classList.remove('is-invalid');\n\n                if (!(newPassword != retypePassword)) {\n                  _context.next = 25;\n                  break;\n                }\n\n                document.getElementById(\"retypePassword\").classList.add('is-invalid');\n                return _context.abrupt(\"return\", false);\n\n              case 25:\n                document.getElementById(\"retypePassword\").classList.remove('is-invalid');\n\n              case 26:\n                _context.next = 28;\n                return axios({\n                  method: 'post',\n                  url: apiDomain + 'users/' + currentUser + '/changepass',\n                  data: {\n                    oldPassword: this.oldPassword,\n                    newPassword: this.newPassword\n                  },\n                  headers: {\n                    Authorization: 'Bearer ' + token\n                  }\n                }).then(function (res) {\n                  alert(\"Succesfully Changed!\");\n\n                  _this.$router.push({\n                    name: 'login'\n                  });\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                });\n\n              case 28:\n                res = _context.sent;\n\n              case 29:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function changePassword() {\n        return _changePassword.apply(this, arguments);\n      }\n\n      return changePassword;\n    }()\n  },\n  watch: {},\n  computed: {}\n};",{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n     <Navigation/>\r\n     <div class=\"container-fluid\">\r\n      \r\n             <div class=\"row\">\r\n                   \r\n                   <div class=\"col-md-12\">\r\n                    \r\n                        <form class=\"needs-validation\" novalidate>\r\n                            <h2 class=\"section-title\">Change Password </h2>\r\n                            <br>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"email\">Old Password:</label>\r\n                                <input type=\"password\" class=\"form-control\" v-model=\"oldPassword\" id=\"oldPassword\">\r\n                                <div class=\"invalid-feedback\">Please fill out this field.</div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"pwd\">New Password:</label>\r\n                                <input type=\"password\" class=\"form-control\" v-model=\"newPassword\" id=\"newPassword\">\r\n                                <div class=\"invalid-feedback\">Please fill out this field.</div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"pwd\">Retype Password:</label>\r\n                                <input type=\"password\"  :oninput=\"checkPasscode\" class=\"form-control\" v-model=\"retypePassword\" id=\"retypePassword\">\r\n                                <div class=\"invalid-feedback\">Password did not match</div>   \r\n                            </div>\r\n                            <button type=\"submit\" @click=\"changePassword\" class=\"btn btn-primary\">Submit</button>\r\n                        </form>\r\n                   </div>\r\n                 </div>\r\n           </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Navigation from '@/components/Navigation.vue'\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ChangePassword',\r\n  mounted () {\r\n     \r\n\r\n  },\r\n  data:\r\n    function() {\r\n        return{\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            retypePassword: ''\r\n        }\r\n    },\r\n  components: {\r\n      Navigation,\r\n      Sidebar\r\n  },\r\n  methods: {\r\n         async changePassword () {\r\n\r\n         let token = await localStorage.getItem(\"apiToken\");\r\n         let apiDomain = await localStorage.getItem(\"apiDomain\");\r\n         let currentUser = await localStorage.getItem(\"currentUser\");\r\n\r\n          let newPassword =  document.getElementById(\"newPassword\").value;\r\n          let oldPassword =  document.getElementById(\"oldPassword\").value;\r\n          let retypePassword =  document.getElementById(\"retypePassword\").value;\r\n        \r\n          if(oldPassword == \"\"){\r\n                document.getElementById(\"oldPassword\").classList.add('is-invalid');\r\n          }else{\r\n                document.getElementById(\"oldPassword\").classList.remove('is-invalid');\r\n          }\r\n          if(newPassword == \"\" && retypePassword == \"\"){\r\n                document.getElementById(\"newPassword\").classList.add('is-invalid');\r\n                 document.getElementById(\"retypePassword\").classList.add('is-invalid');\r\n          }else{\r\n                document.getElementById(\"newPassword\").classList.remove('is-invalid');\r\n                document.getElementById(\"retypePassword\").classList.remove('is-invalid');\r\n\r\n                if(newPassword!=retypePassword){\r\n                        document.getElementById(\"retypePassword\").classList.add('is-invalid');\r\n                        return false;\r\n                }else{\r\n                        document.getElementById(\"retypePassword\").classList.remove('is-invalid');\r\n                }\r\n          }\r\n\r\n            let res = await axios({\r\n               method: 'post',\r\n                 url: apiDomain + 'users/' + currentUser + '/changepass',\r\n                 data: {\r\n                     oldPassword: this.oldPassword,\r\n\t                   newPassword: this.newPassword\r\n                 },\r\n                headers: {\r\n                    Authorization: 'Bearer ' + token\r\n                }\r\n             })\r\n             .then((res) => {\r\n                  alert(\"Succesfully Changed!\");\r\n                    this.$router.push({ name: 'login' })\r\n\r\n             })\r\n             .catch((err) => {\r\n                console.log(\"AXIOS ERROR: \", err);\r\n             })\r\n       }\r\n  },\r\n  watch:{\r\n  },\r\n  computed: {\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody{\r\n  overflow: hidden !important;\r\n}\r\nform {\r\n    padding-top: 72px;\r\n    padding-left: 52px;\r\n    padding-right: 52px;\r\n}\r\n.section-title{\r\n    font-family: \"Work Sans\";\r\n    font-weight: 550;\r\n    font-size:30px;\r\n    color: #43425D;\r\n    text-transform: capitalize;\r\n}\r\n</style>"],"sourceRoot":"src/views"}]}