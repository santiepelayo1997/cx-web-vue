{"remainingRequest":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\iRipple\\Desktop\\cx-web-vue\\src\\store.js","dependencies":[{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\src\\store.js","mtime":1578274803662},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\iRipple\\Desktop\\cx-web-vue\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es7.object.get-own-property-descriptors\";\nimport \"core-js/modules/es6.object.keys\";\nimport \"core-js/modules/es7.array.includes\";\nimport \"core-js/modules/es6.string.includes\";\nimport _defineProperty from \"C:\\\\Users\\\\iRipple\\\\Desktop\\\\cx-web-vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/defineProperty\";\nimport \"core-js/modules/es6.function.name\";\nimport \"core-js/modules/web.dom.iterable\";\nimport _slicedToArray from \"C:\\\\Users\\\\iRipple\\\\Desktop\\\\cx-web-vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/slicedToArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\iRipple\\\\Desktop\\\\cx-web-vue\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport Dexie from 'dexie';\nvar idb = new Dexie('cx+');\nimport router from \"./router\"; // idb.version(1).stores({\n//   tokens: \"++id, userHashId, token, refreshToken, serverTime\",\n//   users: \"&hashId, accountHashId,code, email, status, userName\",\n//   accounts: \"&hashId, createdAt, updatedAt, name, companyName, status, country, mobileNo\",\n//   items: \"&hashId, createdAt, updatedAt, name, barcodes, photoUrl, productType, status\",\n//   branches: \"&hashId, accountHashId,name, code , updatedAt, createdAt, status\",\n//   licenses: \"&hashId, accountHashId,key, updatedAt, createdAt, status, expiredAt, orderedAt\",\n//   objectUpdates: \"&[accountHashId+tableName]\"\n// })\n\nidb.version(1).stores({\n  tokens: \"++id, userHashId, token, refreshToken, serverTime\",\n  users: \"&hashId, accountHashId,code, email, status, name, userName,homeBranchHashId,photoUrl,settings,extras,updatedAt,createdAt\",\n  accounts: \"&hashId, createdAt, updatedAt, name, companyName, status, country, mobileNo\",\n  items: \"&hashId, createdAt, updatedAt, name, stockNo, retailPrice, cost, barcodes, photoUrl, productType, status, extra, meta, accountHashId\",\n  branches: \"&hashId, accountHashId,name, code , updatedAt, createdAt, status\",\n  extraChargeTypes: \"&hashId,name,code,remarks,rate,amount,status,allowOpenCharge,taxInclusive,extra,policy,accountHashId\",\n  discounts: \"&hashId,name,code,remarks,rate,amount,status,allowOpenDiscount,extra,policy,accountHashId\",\n  pos_terminals: \"&hashId,currentVersion,terminalId,serialNo,permitNo,machineIdentificationNo,accreditationNo,tin,settings,status,accountHashId,branchHashId,license\",\n  taxes: \"&hashId, accountHashId,name, code , remarks ,rate,amount,status,allowOpenTax,isExemption,extra,policy, updatedAt, createdAt\",\n  paymentchannels: \"&hashId, accountHashId,name, code , updatedAt, createdAt, status\",\n  user_groups: \"&hashId,createdAt,updatedAt, code, name ,status ,isDefault,policy,accountHashId\",\n  licenses: \"&hashId, accountHashId,key, updatedAt, createdAt, status, expiredAt, orderedAt\",\n  objectUpdates: \"&[accountHashId+tableName]\"\n});\nidb.open();\nVue.use(Vuex);\nimport axios from 'axios';\nexport default new Vuex.Store({\n  state: {\n    apiDetails: {\n      domain: '54.169.119.158',\n      channel: 'http',\n      version: '1'\n    },\n    db: idb,\n    errorMessage: '',\n    search: '',\n    checkedColor: [\"#9c27b0\"],\n    ifStatusSucess: null,\n    currentAccount: null,\n    userGroupName: '',\n    cardSelectedHash: \"action\",\n    selectedUserHash: '',\n    loading: false,\n    photoUrl: '',\n    checkIfValidToSave: null,\n    selectedHashId: null,\n    ifDeleted: null,\n    showModal: false,\n    userGroupHashId: null,\n    showModalUpdate: false,\n    showModalChangePass: false,\n    successMessage: '',\n    isAdmin: false,\n    nameOfUser: '',\n    navPhotoUrl: ''\n  },\n  mutations: {// assignCurrentAccount(state, payload){\n    //   state.currentAccount = payload\n    // },\n    // assignAdminPrivilege(state,isAdmin){\n    //   state.isAdmin = isAdmin\n    // }\n  },\n  actions: {\n    retrieveData: function () {\n      var _retrieveData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee(_ref, _ref2) {\n        var getters, state, _ref3, hashId, form, modelName, apiToken, axiosConfig;\n\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                getters = _ref.getters, state = _ref.state;\n                _ref3 = _slicedToArray(_ref2, 3), hashId = _ref3[0], form = _ref3[1], modelName = _ref3[2];\n                state.selectedHashId = hashId;\n                state.showModalUpdate = true;\n                _context.next = 6;\n                return getters.apiToken();\n\n              case 6:\n                apiToken = _context.sent;\n                axiosConfig = {\n                  headers: {\n                    \"Authorization\": \"Bearer \" + apiToken.token\n                  }\n                };\n                _context.next = 10;\n                return axios.get(getters.apiDomain + modelName + '/' + hashId, axiosConfig).then(function (res) {\n                  form.forEach(function (element) {\n                    if (element.inputType == \"file\") {\n                      if (res.data[element.name] == \"\" || res.data.photoUrl == null) {\n                        document.getElementById(element.name).src = 'https://www.exclusivehomedesign.it/wp-content/uploads/2018/07/noPhoto.png';\n                      } else {\n                        document.getElementById(element.name).src = res.data[element.name];\n                        state.photoUrl = res.data[element.name];\n                      }\n                    } else if (element.name == \"settings\") {\n                      if (element.inputType == \"colorPicker\") {\n                        state.checkedColor = res.data[element.name][\"card-color\"];\n                      }\n                    } else if (element.name == \"licenseKey\") {\n                      document.getElementById(element.name).value = res.data.license.key;\n                    } else if (element.inputType == \"checkbox\") {\n                      document.getElementById(element.name).checked = res.data[element.name];\n                    } else {\n                      document.getElementById(element.name).value = res.data[element.name];\n                    }\n                  });\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                });\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function retrieveData(_x, _x2) {\n        return _retrieveData.apply(this, arguments);\n      }\n\n      return retrieveData;\n    }(),\n    getUserDetails: function () {\n      var _getUserDetails = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(_ref4, hashId) {\n        var getters, state, apiToken;\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                getters = _ref4.getters, state = _ref4.state;\n                _context2.next = 3;\n                return getters.apiToken();\n\n              case 3:\n                apiToken = _context2.sent;\n                _context2.next = 6;\n                return axios({\n                  method: 'get',\n                  url: getters.apiDomain + 'users/' + hashId,\n                  headers: {\n                    Authorization: 'Bearer ' + apiToken.token\n                  }\n                }).then(function (res) {\n                  state.navPhotoUrl = res.data.photoUrl;\n                  state.nameOfUser = res.data.name;\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                });\n\n              case 6:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      function getUserDetails(_x3, _x4) {\n        return _getUserDetails.apply(this, arguments);\n      }\n\n      return getUserDetails;\n    }(),\n    deleteData: function () {\n      var _deleteData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3(_ref5, _ref6) {\n        var getters, state, _ref7, hashId, modelName, apiToken;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                getters = _ref5.getters, state = _ref5.state;\n                _ref7 = _slicedToArray(_ref6, 2), hashId = _ref7[0], modelName = _ref7[1];\n                _context3.next = 4;\n                return getters.apiToken();\n\n              case 4:\n                apiToken = _context3.sent;\n                _context3.next = 7;\n                return axios({\n                  method: 'delete',\n                  url: getters.apiDomain + modelName + '/' + hashId,\n                  headers: {\n                    Authorization: 'Bearer ' + apiToken.token\n                  }\n                }).then(function (res) {\n                  state.ifDeleted = true;\n                  setTimeout(function () {\n                    state.ifDeleted = false;\n                  }, 1500);\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                });\n\n              case 7:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n\n      function deleteData(_x5, _x6) {\n        return _deleteData.apply(this, arguments);\n      }\n\n      return deleteData;\n    }(),\n    deactivateData: function () {\n      var _deactivateData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4(_ref8, _ref9) {\n        var getters, state, _ref10, hashId, modelName, apiToken;\n\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                getters = _ref8.getters, state = _ref8.state;\n                _ref10 = _slicedToArray(_ref9, 2), hashId = _ref10[0], modelName = _ref10[1];\n                _context4.next = 4;\n                return getters.apiToken();\n\n              case 4:\n                apiToken = _context4.sent;\n                _context4.next = 7;\n                return axios({\n                  method: 'put',\n                  url: getters.apiDomain + modelName + '/' + hashId + '/deactivate',\n                  data: {\n                    status: \"I\"\n                  },\n                  headers: {\n                    Authorization: 'Bearer ' + apiToken.token\n                  }\n                }).then(function (res) {\n                  console.log(res);\n                  state.ifDeleted = true;\n                  setTimeout(function () {\n                    state.ifDeleted = false;\n                  }, 1500);\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                  state.errorMessage = err.response.data.error;\n                  setTimeout(function () {\n                    state.errorMessage = \"\";\n                    state.ifDeleted = null;\n                  }, 2500);\n                });\n\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4);\n      }));\n\n      function deactivateData(_x7, _x8) {\n        return _deactivateData.apply(this, arguments);\n      }\n\n      return deactivateData;\n    }(),\n    blockData: function () {\n      var _blockData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5(_ref11, _ref12) {\n        var getters, state, _ref13, hashId, modelName, successMessage, apiToken;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                getters = _ref11.getters, state = _ref11.state;\n                _ref13 = _slicedToArray(_ref12, 3), hashId = _ref13[0], modelName = _ref13[1], successMessage = _ref13[2];\n                _context5.next = 4;\n                return getters.apiToken();\n\n              case 4:\n                apiToken = _context5.sent;\n                _context5.next = 7;\n                return axios({\n                  method: 'put',\n                  url: getters.apiDomain + modelName + '/' + hashId + '/block',\n                  data: {\n                    status: \"B\"\n                  },\n                  headers: {\n                    Authorization: 'Bearer ' + apiToken.token\n                  }\n                }).then(function (res) {\n                  console.log(res);\n                  state.successMessage = successMessage;\n                  state.ifDeleted = true;\n                  setTimeout(function () {\n                    state.ifDeleted = false;\n                  }, 1500);\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                  state.errorMessage = err.response.data.error;\n                  setTimeout(function () {\n                    state.errorMessage = \"\";\n                    state.ifDeleted = null;\n                  }, 2500);\n                });\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5);\n      }));\n\n      function blockData(_x9, _x10) {\n        return _blockData.apply(this, arguments);\n      }\n\n      return blockData;\n    }(),\n    changePassword: function () {\n      var _changePassword = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee6(_ref14, _ref15) {\n        var getters, state, _ref16, hashId, modelName, form, successMessage, newPassword, apiToken;\n\n        return regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                getters = _ref14.getters, state = _ref14.state;\n                _ref16 = _slicedToArray(_ref15, 4), hashId = _ref16[0], modelName = _ref16[1], form = _ref16[2], successMessage = _ref16[3];\n                newPassword = [];\n                form.forEach(function (element) {\n                  newPassword = document.getElementById(element.name).value;\n                });\n                _context6.next = 6;\n                return getters.apiToken();\n\n              case 6:\n                apiToken = _context6.sent;\n                _context6.next = 9;\n                return axios({\n                  method: 'post',\n                  url: getters.apiDomain + modelName + '/' + hashId + '/changepass',\n                  data: {\n                    newPassword: newPassword\n                  },\n                  headers: {\n                    Authorization: 'Bearer ' + apiToken.token\n                  }\n                }).then(function (res) {\n                  state.showModalChangePass = false;\n                  state.successMessage = successMessage;\n                  state.ifStatusSucess = true;\n                  setTimeout(function () {\n                    state.ifStatusSucess = false;\n                    state.loading = false;\n                  }, 1500);\n                }).catch(function (err) {\n                  console.log(\"AXIOS ERROR: \", err);\n                  state.loading = false;\n                  state.errorMessage = err.response.data.error;\n                  setTimeout(function () {\n                    state.errorMessage = \"\";\n                    state.ifStatusSucess = null;\n                  }, 2500);\n                });\n\n              case 9:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6);\n      }));\n\n      function changePassword(_x11, _x12) {\n        return _changePassword.apply(this, arguments);\n      }\n\n      return changePassword;\n    }(),\n    updateData: function () {\n      var _updateData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee7(_ref17, _ref18) {\n        var getters, state, _ref19, array, modelName, file, successMessage, arrayElements, apiToken, apiTokenPhoto, axiosConfig;\n\n        return regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                getters = _ref17.getters, state = _ref17.state;\n                _ref19 = _slicedToArray(_ref18, 4), array = _ref19[0], modelName = _ref19[1], file = _ref19[2], successMessage = _ref19[3];\n                arrayElements = {};\n                _context7.next = 5;\n                return getters.apiToken();\n\n              case 5:\n                apiToken = _context7.sent;\n\n                if (!(file != null && file != \"\")) {\n                  _context7.next = 14;\n                  break;\n                }\n\n                _context7.next = 9;\n                return getters.apiToken();\n\n              case 9:\n                apiTokenPhoto = _context7.sent;\n                _context7.next = 12;\n                return axios.post(getters.apiDomain + 'uploads', file, {\n                  headers: {\n                    'Content-Type': 'multipart/form-data',\n                    \"Authorization\": \"Bearer \" + apiTokenPhoto.token\n                  }\n                }).then(function (response) {\n                  state.checkIfValidToSave = true;\n                  state.photoUrl = \"http://\" + state.apiDetails.domain + response.data[0].photoUrl + '?width=300&height=300&percentage=100';\n                }).catch(function (err) {\n                  state.checkIfValidToSave = false;\n                  state.loading = false;\n                  state.errorMessage = err.response.data.error;\n                  state.ifStatusSucess = false;\n                  setTimeout(function () {\n                    state.ifStatusSucess = null;\n                    state.errorMessage = \"\";\n                  }, 2000);\n                  console.log(\"AXIOS ERROR: \", err.response.data.error);\n                  return state.errorMessage;\n                });\n\n              case 12:\n                _context7.next = 15;\n                break;\n\n              case 14:\n                state.checkIfValidToSave = true;\n\n              case 15:\n                if (!(state.checkIfValidToSave == true)) {\n                  _context7.next = 21;\n                  break;\n                }\n\n                array.forEach(function (element) {\n                  if (element.inputType == \"number\") {\n                    var number = document.getElementById(element.name).value;\n\n                    if (number == \"\" || number == null) {\n                      arrayElements[element.name] = 0;\n                    } else {\n                      arrayElements[element.name] = document.getElementById(element.name).value;\n                    }\n                  } else if (element.inputType == \"file\") {\n                    arrayElements[element.name] = state.photoUrl;\n                  } else if (element.name == \"settings\") {\n                    if (element.inputType == \"colorPicker\") {\n                      var colorPicker = {\n                        \"card-color\": state.checkedColor\n                      };\n                      arrayElements[element.name] = colorPicker;\n                    }\n                  } else if (element.inputType == \"checkbox\") {\n                    arrayElements[element.name] = document.getElementById(element.name).checked;\n                  } else {\n                    arrayElements[element.name] = document.getElementById(element.name).value;\n                  }\n                });\n                axiosConfig = {\n                  headers: {\n                    \"Authorization\": \"Bearer \" + apiToken.token\n                  }\n                };\n                _context7.next = 20;\n                return axios.put(getters.apiDomain + modelName + '/' + state.selectedHashId, arrayElements, axiosConfig).then(function (res) {\n                  state.successMessage = successMessage;\n                  state.ifStatusSucess = true;\n                  setTimeout(function () {\n                    state.ifStatusSucess = false;\n                  }, 1500);\n                  state.reload = true;\n                  state.showModalUpdate = false;\n                  state.loading = false;\n                }).catch(function (err) {\n                  state.loading = false;\n                  state.errorMessage = err.response.data.error;\n                  setTimeout(function () {\n                    state.errorMessage = \"\";\n                    state.ifStatusSucess = null;\n                  }, 2500);\n                  console.log(\"AXIOS ERROR: \", err.response.data.error);\n                });\n\n              case 20:\n                return _context7.abrupt(\"return\", state.ifStatusSucess);\n\n              case 21:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7);\n      }));\n\n      function updateData(_x13, _x14) {\n        return _updateData.apply(this, arguments);\n      }\n\n      return updateData;\n    }(),\n    saveData: function () {\n      var _saveData = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee8(_ref20, _ref21) {\n        var getters, state, _ref22, array, modelName, file, successMessage, arrayElements, apiToken, apiTokenPhoto, axiosConfig;\n\n        return regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                getters = _ref20.getters, state = _ref20.state;\n                _ref22 = _slicedToArray(_ref21, 4), array = _ref22[0], modelName = _ref22[1], file = _ref22[2], successMessage = _ref22[3];\n                arrayElements = {};\n                _context8.next = 5;\n                return getters.apiToken();\n\n              case 5:\n                apiToken = _context8.sent;\n\n                if (!(file != null && file != \"\")) {\n                  _context8.next = 14;\n                  break;\n                }\n\n                _context8.next = 9;\n                return getters.apiToken();\n\n              case 9:\n                apiTokenPhoto = _context8.sent;\n                _context8.next = 12;\n                return axios.post(getters.apiDomain + 'uploads', file, {\n                  headers: {\n                    'Content-Type': 'multipart/form-data',\n                    \"Authorization\": \"Bearer \" + apiTokenPhoto.token\n                  }\n                }).then(function (response) {\n                  state.checkIfValidToSave = true;\n                  state.photoUrl = \"http://\" + state.apiDetails.domain + response.data[0].photoUrl + '?width=300&height=300&percentage=100';\n                }).catch(function (err) {\n                  state.checkIfValidToSave = false;\n                  state.loading = false;\n                  state.errorMessage = err.response.data.error;\n                  state.ifStatusSucess = false;\n                  setTimeout(function () {\n                    state.errorMessage = \"\";\n                    state.ifStatusSucess = null;\n                  }, 2500);\n                  console.log(\"AXIOS ERROR: \", err.response.data.error);\n                  return state.errorMessage;\n                });\n\n              case 12:\n                _context8.next = 16;\n                break;\n\n              case 14:\n                state.checkIfValidToSave = true;\n                state.photoUrl = \"\";\n\n              case 16:\n                if (!(state.checkIfValidToSave == true)) {\n                  _context8.next = 23;\n                  break;\n                }\n\n                array.forEach(function (element) {\n                  if (element.inputType == \"number\") {\n                    var number = document.getElementById(element.name).value;\n\n                    if (number == \"\" || number == null) {\n                      arrayElements[element.name] = 0;\n                    } else {\n                      arrayElements[element.name] = document.getElementById(element.name).value;\n                    }\n                  } else if (element.inputType == \"file\") {\n                    arrayElements[element.name] = state.photoUrl;\n                  } else if (element.name == \"settings\") {\n                    if (element.inputType == \"colorPicker\") {\n                      var colorPicker = {\n                        \"card-color\": state.checkedColor\n                      };\n                      arrayElements[element.name] = colorPicker;\n                    }\n                  } else if (element.inputType == \"checkbox\") {\n                    arrayElements[element.name] = document.getElementById(element.name).checked;\n                  } else if (element.inputType == \"hidden\") {\n                    arrayElements[element.name] = state.userGroupHashId;\n                  } else {\n                    arrayElements[element.name] = document.getElementById(element.name).value;\n                  }\n                });\n                console.log(arrayElements);\n                axiosConfig = {\n                  headers: {\n                    \"Authorization\": \"Bearer \" + apiToken.token\n                  }\n                };\n                _context8.next = 22;\n                return axios.post(getters.apiDomain + modelName, arrayElements, axiosConfig).then(function (res) {\n                  state.successMessage = successMessage;\n                  state.ifStatusSucess = true;\n                  setTimeout(function () {\n                    state.ifStatusSucess = false;\n                  }, 1500);\n                  state.showModal = false;\n                  state.loading = false;\n                }).catch(function (err) {\n                  state.loading = false;\n                  state.errorMessage = err.response.data.error;\n                  state.ifStatusSucess = false;\n                  setTimeout(function () {\n                    state.errorMessage = \"\";\n                    state.ifStatusSucess = false;\n                  }, 2500);\n                  console.log(\"AXIOS ERROR: \", err.response.data.error);\n                });\n\n              case 22:\n                return _context8.abrupt(\"return\", state.ifStatusSucess);\n\n              case 23:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8);\n      }));\n\n      function saveData(_x15, _x16) {\n        return _saveData.apply(this, arguments);\n      }\n\n      return saveData;\n    }(),\n    getRequest: function () {\n      var _getRequest = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee9(_ref23, options) {\n        var dispatch, getters, apiToken, getResponse;\n        return regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                dispatch = _ref23.dispatch, getters = _ref23.getters;\n                _context9.next = 3;\n                return getters.apiToken();\n\n              case 3:\n                apiToken = _context9.sent;\n                localStorage.setItem(\"apiToken\", apiToken.token);\n                localStorage.setItem(\"apiDomain\", getters.apiDomain);\n                localStorage.setItem(\"domain\", getters.apiIpAddress);\n                if (apiToken == undefined) dispatch('logout');\n                _context9.next = 10;\n                return axios.get(getters.apiDomain + options.endpoint, {\n                  params: _objectSpread({}, options.urlParams),\n                  \"headers\": {\n                    \"Authorization\": \"Bearer \" + apiToken.token\n                  }\n                }).then(function (res) {\n                  // console.log(res);\n                  return res;\n                }).catch(function (err) {\n                  return err.response;\n                });\n\n              case 10:\n                getResponse = _context9.sent;\n\n                if (!(getResponse.status == 403)) {\n                  _context9.next = 14;\n                  break;\n                }\n\n                _context9.next = 14;\n                return axios.get(getters.apiDomain + \"tokens\", {\n                  params: {\n                    \"ref\": apiToken.refreshToken\n                  }\n                }).then(function (res) {//process new token\n                  //  console.log(res.data)\n                }).catch(function (error) {\n                  console.log(error);\n                  dispatch('logout');\n                });\n\n              case 14:\n                return _context9.abrupt(\"return\", getResponse);\n\n              case 15:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n\n      function getRequest(_x17, _x18) {\n        return _getRequest.apply(this, arguments);\n      }\n\n      return getRequest;\n    }(),\n    cloudLastUpdatedAt: function () {\n      var _cloudLastUpdatedAt = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee10(_ref24, options) {\n        var dispatch, cluaRes;\n        return regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                dispatch = _ref24.dispatch;\n                _context10.next = 3;\n                return dispatch('getRequest', {\n                  \"endpoint\": options.endpoint,\n                  \"urlParams\": _objectSpread({}, options.urlParams, {\n                    \"q\": \"lastUpdatedAt\"\n                  })\n                });\n\n              case 3:\n                cluaRes = _context10.sent;\n\n                if (!(cluaRes.status == 200)) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                return _context10.abrupt(\"return\", cluaRes.data.lastUpdatedAt);\n\n              case 8:\n                return _context10.abrupt(\"return\", '2010-01-01T00:00:00.000Z');\n\n              case 9:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10);\n      }));\n\n      function cloudLastUpdatedAt(_x19, _x20) {\n        return _cloudLastUpdatedAt.apply(this, arguments);\n      }\n\n      return cloudLastUpdatedAt;\n    }(),\n    getUpdateCount: function () {\n      var _getUpdateCount = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee11(_ref25, options) {\n        var dispatch, cucRes;\n        return regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                dispatch = _ref25.dispatch;\n                _context11.next = 3;\n                return dispatch('getRequest', {\n                  \"endpoint\": options.endpoint,\n                  \"urlParams\": _objectSpread({}, options.urlParams, {\n                    \"q\": \"count\"\n                  })\n                });\n\n              case 3:\n                cucRes = _context11.sent;\n\n                if (!(cucRes.status == 200)) {\n                  _context11.next = 8;\n                  break;\n                }\n\n                return _context11.abrupt(\"return\", cucRes.data.count);\n\n              case 8:\n                return _context11.abrupt(\"return\", -1);\n\n              case 9:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11);\n      }));\n\n      function getUpdateCount(_x21, _x22) {\n        return _getUpdateCount.apply(this, arguments);\n      }\n\n      return getUpdateCount;\n    }(),\n    logout: function () {\n      var _logout = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee12(_ref26) {\n        var state;\n        return regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                state = _ref26.state;\n                _context12.prev = 1;\n                _context12.next = 4;\n                return state.db.tokens.clear();\n\n              case 4:\n                window.localStorage.removeItem('currentUser');\n                router.push('/login');\n                _context12.next = 11;\n                break;\n\n              case 8:\n                _context12.prev = 8;\n                _context12.t0 = _context12[\"catch\"](1);\n                console.log(\"error\");\n\n              case 11:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, null, [[1, 8]]);\n      }));\n\n      function logout(_x23) {\n        return _logout.apply(this, arguments);\n      }\n\n      return logout;\n    }(),\n    getBranches: function () {\n      var _getBranches = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee13(_ref27) {\n        var getters, branches;\n        return regeneratorRuntime.wrap(function _callee13$(_context13) {\n          while (1) {\n            switch (_context13.prev = _context13.next) {\n              case 0:\n                getters = _ref27.getters;\n                _context13.prev = 1;\n                _context13.next = 4;\n                return getters.getBranches();\n\n              case 4:\n                branches = _context13.sent;\n                return _context13.abrupt(\"return\", branches);\n\n              case 8:\n                _context13.prev = 8;\n                _context13.t0 = _context13[\"catch\"](1);\n                console.log(_context13.t0);\n\n              case 11:\n              case \"end\":\n                return _context13.stop();\n            }\n          }\n        }, _callee13, null, [[1, 8]]);\n      }));\n\n      function getBranches(_x24) {\n        return _getBranches.apply(this, arguments);\n      }\n\n      return getBranches;\n    }(),\n    getApiDomain: function () {\n      var _getApiDomain = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee14(_ref28) {\n        var getters, apiDomain;\n        return regeneratorRuntime.wrap(function _callee14$(_context14) {\n          while (1) {\n            switch (_context14.prev = _context14.next) {\n              case 0:\n                getters = _ref28.getters;\n                _context14.prev = 1;\n                _context14.next = 4;\n                return getters.apiDomainLink();\n\n              case 4:\n                apiDomain = _context14.sent;\n                localStorage.setItem(\"apiDomain\", apiDomain);\n                return _context14.abrupt(\"return\", apiDomain);\n\n              case 9:\n                _context14.prev = 9;\n                _context14.t0 = _context14[\"catch\"](1);\n                console.log(_context14.t0);\n\n              case 12:\n              case \"end\":\n                return _context14.stop();\n            }\n          }\n        }, _callee14, null, [[1, 9]]);\n      }));\n\n      function getApiDomain(_x25) {\n        return _getApiDomain.apply(this, arguments);\n      }\n\n      return getApiDomain;\n    }(),\n    isSuperAdmin: function () {\n      var _isSuperAdmin = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee15(_ref29) {\n        var getters, u;\n        return regeneratorRuntime.wrap(function _callee15$(_context15) {\n          while (1) {\n            switch (_context15.prev = _context15.next) {\n              case 0:\n                getters = _ref29.getters;\n                _context15.next = 3;\n                return getters.currentUser();\n\n              case 3:\n                u = _context15.sent;\n\n                //console.log(u.userGroup)\n                if (u.userGroup.name == 'Super Admin') //check if has the same hashID\n                  {\n                    localStorage.setItem('isAdmin', true);\n                  }\n\n              case 5:\n              case \"end\":\n                return _context15.stop();\n            }\n          }\n        }, _callee15);\n      }));\n\n      function isSuperAdmin(_x26) {\n        return _isSuperAdmin.apply(this, arguments);\n      }\n\n      return isSuperAdmin;\n    }()\n  },\n  getters: {\n    apiIpAddress: function apiIpAddress(state) {\n      return state.apiDetails.domain;\n    },\n    apiDomainLink: function apiDomainLink(state) {\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee16() {\n          return regeneratorRuntime.wrap(function _callee16$(_context16) {\n            while (1) {\n              switch (_context16.prev = _context16.next) {\n                case 0:\n                  return _context16.abrupt(\"return\", state.apiDetails.channel + '://' + state.apiDetails.domain + '/api/v' + state.apiDetails.version + '/');\n\n                case 1:\n                case \"end\":\n                  return _context16.stop();\n              }\n            }\n          }, _callee16);\n        }))\n      );\n    },\n    apiDomain: function apiDomain(state) {\n      return state.apiDetails.channel + '://' + state.apiDetails.domain + '/api/v' + state.apiDetails.version + '/';\n    },\n    apiToken: function apiToken(state) {\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee17() {\n          var resToken;\n          return regeneratorRuntime.wrap(function _callee17$(_context17) {\n            while (1) {\n              switch (_context17.prev = _context17.next) {\n                case 0:\n                  _context17.next = 2;\n                  return state.db.tokens.orderBy(':id').last();\n\n                case 2:\n                  resToken = _context17.sent;\n                  return _context17.abrupt(\"return\", resToken);\n\n                case 4:\n                case \"end\":\n                  return _context17.stop();\n              }\n            }\n          }, _callee17);\n        }))\n      );\n    },\n    currentUser: function currentUser(state) {\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee18() {\n          var user;\n          return regeneratorRuntime.wrap(function _callee18$(_context18) {\n            while (1) {\n              switch (_context18.prev = _context18.next) {\n                case 0:\n                  _context18.next = 2;\n                  return state.db.users.get({\n                    \"hashId\": localStorage.getItem('currentUser')\n                  });\n\n                case 2:\n                  user = _context18.sent;\n                  return _context18.abrupt(\"return\", user);\n\n                case 4:\n                case \"end\":\n                  return _context18.stop();\n              }\n            }\n          }, _callee18);\n        }))\n      );\n    },\n    getAccessibleBranches: function getAccessibleBranches(state) {\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee19() {\n          var users;\n          return regeneratorRuntime.wrap(function _callee19$(_context19) {\n            while (1) {\n              switch (_context19.prev = _context19.next) {\n                case 0:\n                  _context19.next = 2;\n                  return state.db.users.get({\n                    \"hashId\": localStorage.getItem('currentUser')\n                  });\n\n                case 2:\n                  users = _context19.sent;\n                  return _context19.abrupt(\"return\", users);\n\n                case 4:\n                case \"end\":\n                  return _context19.stop();\n              }\n            }\n          }, _callee19);\n        }))\n      );\n    },\n    getBranches: function getBranches(state) {\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee20() {\n          var user, branchList, arrayItems;\n          return regeneratorRuntime.wrap(function _callee20$(_context20) {\n            while (1) {\n              switch (_context20.prev = _context20.next) {\n                case 0:\n                  _context20.next = 2;\n                  return state.db.users.get({\n                    \"hashId\": localStorage.getItem('currentUser')\n                  });\n\n                case 2:\n                  user = _context20.sent;\n                  branchList = user.userGroup.policy.branches.list;\n                  arrayItems = [];\n                  branchList.forEach(function (element) {\n                    state.db.branches.where({\n                      hashId: element\n                    }).each(function (branchList) {\n                      arrayItems.push(branchList);\n                      localStorage.setItem('listOfBranches', JSON.stringify(arrayItems));\n                    }).catch(function (error) {\n                      console.error(error);\n                    });\n                  });\n                  return _context20.abrupt(\"return\", arrayItems);\n\n                case 7:\n                case \"end\":\n                  return _context20.stop();\n              }\n            }\n          }, _callee20);\n        }))\n      );\n    },\n    currentAccount: function currentAccount(state) {\n      return (\n        /*#__PURE__*/\n        _asyncToGenerator(\n        /*#__PURE__*/\n        regeneratorRuntime.mark(function _callee21() {\n          var account;\n          return regeneratorRuntime.wrap(function _callee21$(_context21) {\n            while (1) {\n              switch (_context21.prev = _context21.next) {\n                case 0:\n                  _context21.next = 2;\n                  return state.db.accounts.get({\n                    \"hashId\": localStorage.getItem('currentAccount')\n                  });\n\n                case 2:\n                  account = _context21.sent;\n\n                  if (account == null) {\n                    account = {\n                      \"name\": \"admin\",\n                      \"hashId\": localStorage.getItem('currentAccount')\n                    };\n                  }\n\n                  return _context21.abrupt(\"return\", account);\n\n                case 5:\n                case \"end\":\n                  return _context21.stop();\n              }\n            }\n          }, _callee21);\n        }))\n      );\n    },\n    hasAccess: function hasAccess(state) {\n      return (\n        /*#__PURE__*/\n        function () {\n          var _ref36 = _asyncToGenerator(\n          /*#__PURE__*/\n          regeneratorRuntime.mark(function _callee22(page, userAction, hashObject) {\n            var user, ug, hasAccess;\n            return regeneratorRuntime.wrap(function _callee22$(_context22) {\n              while (1) {\n                switch (_context22.prev = _context22.next) {\n                  case 0:\n                    _context22.next = 2;\n                    return state.db.users.get({\n                      \"hashId\": localStorage.getItem('currentUser')\n                    });\n\n                  case 2:\n                    user = _context22.sent;\n                    ug = user.userGroup; //check the user groups\n\n                    hasAccess = false;\n\n                    if (ug.policy[page] != undefined) {\n                      if (ug.policy[page][userAction] != undefined) {\n                        if (ug.policy[page][userAction] == '*' || ug.policy[page][userAction].includes(hashObject)) console.log;\n                        hasAccess = true;\n                      } else {\n                        console.log(\"Action not defined\");\n                      }\n                    } else {\n                      console.log(\"Policy not defined\");\n                    }\n\n                    return _context22.abrupt(\"return\", hasAccess);\n\n                  case 7:\n                  case \"end\":\n                    return _context22.stop();\n                }\n              }\n            }, _callee22);\n          }));\n\n          return function (_x27, _x28, _x29) {\n            return _ref36.apply(this, arguments);\n          };\n        }()\n      );\n    },\n    lastUpdatedAtUtc: function lastUpdatedAtUtc(state) {\n      return (\n        /*#__PURE__*/\n        function () {\n          var _ref37 = _asyncToGenerator(\n          /*#__PURE__*/\n          regeneratorRuntime.mark(function _callee23(objectName) {\n            var ou;\n            return regeneratorRuntime.wrap(function _callee23$(_context23) {\n              while (1) {\n                switch (_context23.prev = _context23.next) {\n                  case 0:\n                    _context23.prev = 0;\n                    _context23.next = 3;\n                    return state.db.objectUpdates.get({\n                      \"accountHashId\": localStorage.getItem('currentAccount'),\n                      \"tableName\": objectName\n                    });\n\n                  case 3:\n                    ou = _context23.sent;\n\n                    if (!(ou != undefined)) {\n                      _context23.next = 8;\n                      break;\n                    }\n\n                    return _context23.abrupt(\"return\", ou.lastUpdatedAtUtc);\n\n                  case 8:\n                    return _context23.abrupt(\"return\", '2010-01-01T00:00:00.000Z');\n\n                  case 9:\n                    _context23.next = 15;\n                    break;\n\n                  case 11:\n                    _context23.prev = 11;\n                    _context23.t0 = _context23[\"catch\"](0);\n                    console.log(_context23.t0);\n                    return _context23.abrupt(\"return\", '2010-01-01T00:00:00.000Z');\n\n                  case 15:\n                  case \"end\":\n                    return _context23.stop();\n                }\n              }\n            }, _callee23, null, [[0, 11]]);\n          }));\n\n          return function (_x30) {\n            return _ref37.apply(this, arguments);\n          };\n        }()\n      );\n    },\n    updateLocalTimestamp: function updateLocalTimestamp(state) {\n      return (\n        /*#__PURE__*/\n        function () {\n          var _ref38 = _asyncToGenerator(\n          /*#__PURE__*/\n          regeneratorRuntime.mark(function _callee24(objectName, newDate) {\n            var accountHashId;\n            return regeneratorRuntime.wrap(function _callee24$(_context24) {\n              while (1) {\n                switch (_context24.prev = _context24.next) {\n                  case 0:\n                    accountHashId = localStorage.getItem('currentAccount');\n                    state.db.objectUpdates.put({\n                      \"accountHashId\": accountHashId,\n                      \"tableName\": objectName,\n                      lastUpdatedAtUtc: newDate\n                    });\n\n                  case 2:\n                  case \"end\":\n                    return _context24.stop();\n                }\n              }\n            }, _callee24);\n          }));\n\n          return function (_x31, _x32) {\n            return _ref38.apply(this, arguments);\n          };\n        }()\n      );\n    }\n  }\n});",{"version":3,"sources":["C:\\Users\\iRipple\\Desktop\\cx-web-vue\\src\\store.js"],"names":["Vue","Vuex","Dexie","idb","router","version","stores","tokens","users","accounts","items","branches","extraChargeTypes","discounts","pos_terminals","taxes","paymentchannels","user_groups","licenses","objectUpdates","open","use","axios","Store","state","apiDetails","domain","channel","db","errorMessage","search","checkedColor","ifStatusSucess","currentAccount","userGroupName","cardSelectedHash","selectedUserHash","loading","photoUrl","checkIfValidToSave","selectedHashId","ifDeleted","showModal","userGroupHashId","showModalUpdate","showModalChangePass","successMessage","isAdmin","nameOfUser","navPhotoUrl","mutations","actions","retrieveData","getters","hashId","form","modelName","apiToken","axiosConfig","headers","token","get","apiDomain","then","res","forEach","element","inputType","data","name","document","getElementById","src","value","license","key","checked","catch","err","console","log","getUserDetails","method","url","Authorization","deleteData","setTimeout","deactivateData","status","response","error","blockData","changePassword","newPassword","updateData","array","file","arrayElements","apiTokenPhoto","post","number","colorPicker","put","reload","saveData","getRequest","options","dispatch","localStorage","setItem","apiIpAddress","undefined","endpoint","params","urlParams","getResponse","refreshToken","cloudLastUpdatedAt","cluaRes","lastUpdatedAt","getUpdateCount","cucRes","count","logout","clear","window","removeItem","push","getBranches","getApiDomain","apiDomainLink","isSuperAdmin","currentUser","u","userGroup","orderBy","last","resToken","getItem","user","getAccessibleBranches","branchList","policy","list","arrayItems","where","each","JSON","stringify","account","hasAccess","page","userAction","hashObject","ug","includes","lastUpdatedAtUtc","objectName","ou","updateLocalTimestamp","newDate","accountHashId"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport Dexie from 'dexie'\r\n\r\nlet idb = new Dexie('cx+')\r\nimport router from './router'\r\n\r\n// idb.version(1).stores({\r\n//   tokens: \"++id, userHashId, token, refreshToken, serverTime\",\r\n//   users: \"&hashId, accountHashId,code, email, status, userName\",\r\n//   accounts: \"&hashId, createdAt, updatedAt, name, companyName, status, country, mobileNo\",\r\n//   items: \"&hashId, createdAt, updatedAt, name, barcodes, photoUrl, productType, status\",\r\n//   branches: \"&hashId, accountHashId,name, code , updatedAt, createdAt, status\",\r\n//   licenses: \"&hashId, accountHashId,key, updatedAt, createdAt, status, expiredAt, orderedAt\",\r\n//   objectUpdates: \"&[accountHashId+tableName]\"\r\n// })\r\nidb.version(1).stores({\r\n  tokens: \"++id, userHashId, token, refreshToken, serverTime\",\r\n  users: \"&hashId, accountHashId,code, email, status, name, userName,homeBranchHashId,photoUrl,settings,extras,updatedAt,createdAt\",\r\n  accounts: \"&hashId, createdAt, updatedAt, name, companyName, status, country, mobileNo\",\r\n  items: \"&hashId, createdAt, updatedAt, name, stockNo, retailPrice, cost, barcodes, photoUrl, productType, status, extra, meta, accountHashId\",\r\n  branches: \"&hashId, accountHashId,name, code , updatedAt, createdAt, status\",\r\n  extraChargeTypes:  \"&hashId,name,code,remarks,rate,amount,status,allowOpenCharge,taxInclusive,extra,policy,accountHashId\",\r\n  discounts: \"&hashId,name,code,remarks,rate,amount,status,allowOpenDiscount,extra,policy,accountHashId\",\r\n  pos_terminals: \"&hashId,currentVersion,terminalId,serialNo,permitNo,machineIdentificationNo,accreditationNo,tin,settings,status,accountHashId,branchHashId,license\",\r\n  taxes: \"&hashId, accountHashId,name, code , remarks ,rate,amount,status,allowOpenTax,isExemption,extra,policy, updatedAt, createdAt\",\r\n  paymentchannels: \"&hashId, accountHashId,name, code , updatedAt, createdAt, status\",\r\n  user_groups: \"&hashId,createdAt,updatedAt, code, name ,status ,isDefault,policy,accountHashId\",\r\n  licenses: \"&hashId, accountHashId,key, updatedAt, createdAt, status, expiredAt, orderedAt\",\r\n  objectUpdates: \"&[accountHashId+tableName]\"\r\n})\r\n\r\nidb.open()\r\n\r\nVue.use(Vuex)\r\nimport axios from 'axios';\r\n\r\n\r\nexport default new Vuex.Store({\r\n  state: {\r\n    apiDetails: {\r\n      domain: '54.169.119.158',\r\n      channel: 'http',\r\n      version: '1',\r\n    },\r\n    db: idb,\r\n    errorMessage: '',\r\n    search:'',\r\n    checkedColor: [\"#9c27b0\"],\r\n    ifStatusSucess: null,\r\n    currentAccount: null,\r\n    userGroupName: '',\r\n    cardSelectedHash: \"action\",\r\n    selectedUserHash: '',\r\n    loading: false,\r\n    photoUrl: '',\r\n    checkIfValidToSave: null,\r\n    selectedHashId: null,\r\n    ifDeleted: null,\r\n    showModal: false,\r\n    userGroupHashId: null,\r\n    showModalUpdate: false,\r\n    showModalChangePass: false,\r\n    successMessage: '',\r\n    isAdmin: false,\r\n    nameOfUser: '',\r\n    navPhotoUrl: ''\r\n  },\r\n  mutations: {\r\n    // assignCurrentAccount(state, payload){\r\n    //   state.currentAccount = payload\r\n    // },\r\n    // assignAdminPrivilege(state,isAdmin){\r\n    //   state.isAdmin = isAdmin\r\n    // }\r\n  },\r\n  actions: {\r\n    async retrieveData({getters,state},[hashId, form, modelName]){\r\n    \r\n      state.selectedHashId = hashId\r\n      state.showModalUpdate = true\r\n      let apiToken = await getters.apiToken()\r\n      let axiosConfig = {\r\n            headers: {\r\n                \"Authorization\": \"Bearer \"+ apiToken.token\r\n            }\r\n        };\r\n      await axios.get(getters.apiDomain + modelName + '/' + hashId, axiosConfig)\r\n      .then((res) => {\r\n            form.forEach(function(element){\r\n                if(element.inputType == \"file\"){\r\n                    if(res.data[element.name] == \"\" || (res.data.photoUrl == null)){\r\n                        document.getElementById(element.name).src = 'https://www.exclusivehomedesign.it/wp-content/uploads/2018/07/noPhoto.png'\r\n                    }else{\r\n                        document.getElementById(element.name).src =  res.data[element.name]\r\n                        state.photoUrl =  res.data[element.name]\r\n                    }\r\n                }else if(element.name == \"settings\"){\r\n                    if(element.inputType == \"colorPicker\"){\r\n                        state.checkedColor = res.data[element.name][\"card-color\"] \r\n                    }\r\n                }else if(element.name== \"licenseKey\"){\r\n                    document.getElementById(element.name).value = res.data.license.key\r\n                }else if(element.inputType==\"checkbox\"){\r\n                    document.getElementById(element.name).checked =  res.data[element.name]\r\n                }else{\r\n                    document.getElementById(element.name).value = res.data[element.name]\r\n                }\r\n            });\r\n        })\r\n      .catch((err) => {\r\n          console.log(\"AXIOS ERROR: \", err);\r\n      })\r\n    },\r\n    async getUserDetails({getters,state}, hashId){\r\n       let apiToken = await getters.apiToken()\r\n       await axios({\r\n           method: 'get',\r\n           url: getters.apiDomain + 'users/' + hashId,\r\n           headers: {\r\n               Authorization: 'Bearer ' + apiToken.token\r\n           }\r\n       })\r\n       .then((res) => {\r\n           state.navPhotoUrl = res.data.photoUrl\r\n           state.nameOfUser = res.data.name\r\n       })\r\n       .catch((err) => {\r\n           console.log(\"AXIOS ERROR: \", err);\r\n       })\r\n   },\r\n    async deleteData({getters,state}, [hashId, modelName]){\r\n       let apiToken = await getters.apiToken()\r\n        await axios({\r\n            method: 'delete',\r\n            url: getters.apiDomain + modelName + '/' + hashId,\r\n            headers: {\r\n                Authorization: 'Bearer ' + apiToken.token\r\n            }\r\n        })\r\n        .then((res) => {\r\n            state.ifDeleted = true\r\n            setTimeout(() => {\r\n              state.ifDeleted = false\r\n            },1500)\r\n        })\r\n        .catch((err) => {\r\n            console.log(\"AXIOS ERROR: \", err);\r\n        })\r\n    },\r\n    async deactivateData({getters,state}, [hashId, modelName]){\r\n\r\n      let apiToken = await getters.apiToken()\r\n       await axios({\r\n           method: 'put',\r\n           url: getters.apiDomain + modelName + '/' + hashId + '/deactivate',\r\n           data: {status: \"I\"},\r\n           headers: {\r\n               Authorization: 'Bearer ' + apiToken.token\r\n           }\r\n       })\r\n       .then((res) => {\r\n           console.log(res);\r\n           state.ifDeleted = true\r\n           setTimeout(() => {\r\n            state.ifDeleted = false\r\n           },1500)\r\n       })\r\n       .catch((err) => {\r\n           console.log(\"AXIOS ERROR: \", err);\r\n           state.errorMessage = err.response.data.error\r\n           setTimeout(() => {\r\n             state.errorMessage = \"\"\r\n             state.ifDeleted = null\r\n           },2500)\r\n       })\r\n    },\r\n    async blockData({getters,state}, [hashId, modelName , successMessage]){\r\n\r\n      let apiToken = await getters.apiToken()\r\n       await axios({\r\n           method: 'put',\r\n           url: getters.apiDomain + modelName + '/' + hashId + '/block',\r\n           data: {status: \"B\"},\r\n           headers: {\r\n               Authorization: 'Bearer ' + apiToken.token\r\n           }\r\n       })\r\n       .then((res) => {\r\n           console.log(res);\r\n           state.successMessage =  successMessage\r\n           state.ifDeleted = true\r\n           setTimeout(() => {\r\n            state.ifDeleted = false\r\n           },1500)\r\n       })\r\n       .catch((err) => {\r\n           console.log(\"AXIOS ERROR: \", err);\r\n           state.errorMessage = err.response.data.error\r\n           setTimeout(() => {\r\n             state.errorMessage = \"\"\r\n             state.ifDeleted = null\r\n           },2500)\r\n       })\r\n    },\r\n    async changePassword({getters,state}, [hashId, modelName, form , successMessage]){\r\n\r\n      let newPassword = [];\r\n      form.forEach(function(element){\r\n        newPassword =  document.getElementById(element.name).value \r\n      });\r\n    \r\n      let apiToken = await getters.apiToken()\r\n       await axios({\r\n           method: 'post',\r\n           url: getters.apiDomain + modelName + '/' + hashId + '/changepass',\r\n           data: {newPassword:newPassword},\r\n           headers: {\r\n               Authorization: 'Bearer ' + apiToken.token\r\n           }\r\n       })\r\n       .then((res) => {\r\n           state.showModalChangePass = false\r\n           state.successMessage =  successMessage\r\n           state.ifStatusSucess = true\r\n           setTimeout(() => {\r\n            state.ifStatusSucess = false\r\n            state.loading = false\r\n          },1500)\r\n         \r\n       })\r\n       .catch((err) => {\r\n            console.log(\"AXIOS ERROR: \", err);\r\n            state.loading = false\r\n            state.errorMessage = err.response.data.error\r\n            setTimeout(() => {\r\n              state.errorMessage = \"\"\r\n              state.ifStatusSucess = null\r\n            },2500)\r\n          \r\n       })\r\n    },\r\n    async updateData({getters,state},[array, modelName, file, successMessage]){\r\n     \r\n      var arrayElements = {}; \r\n      let apiToken = await getters.apiToken()  \r\n      \r\n      //Checking if have photo\r\n      if(file != null && file != \"\"){\r\n   \r\n        let apiTokenPhoto = await getters.apiToken()  \r\n        await axios.post(getters.apiDomain + 'uploads',\r\n        file,\r\n        {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n            \"Authorization\": \"Bearer \"+ apiTokenPhoto.token\r\n          },\r\n        }).then((response) => {\r\n                 state.checkIfValidToSave = true\r\n                 state.photoUrl = \"http://\" + state.apiDetails.domain + response.data[0].photoUrl  + '?width=300&height=300&percentage=100'\r\n        })\r\n        .catch((err) => {\r\n            state.checkIfValidToSave = false\r\n            state.loading = false\r\n            state.errorMessage = err.response.data.error\r\n            state.ifStatusSucess = false\r\n            setTimeout(() => {\r\n              state.ifStatusSucess = null\r\n              state.errorMessage = \"\"\r\n            },2000)\r\n            console.log(\"AXIOS ERROR: \", err.response.data.error);\r\n            return state.errorMessage\r\n        })\r\n      }else{\r\n          state.checkIfValidToSave = true\r\n      }\r\n      //Check if photo is valid \r\n      if(state.checkIfValidToSave == true){\r\n\r\n         array.forEach(function(element){\r\n            \r\n                  if(element.inputType == \"number\"){\r\n                      let number = document.getElementById(element.name).value\r\n                      if(number == \"\" || number == null ){\r\n                        arrayElements[element.name] = 0\r\n                      }else{\r\n                        arrayElements[element.name] = document.getElementById(element.name).value\r\n                      }\r\n                  }else if(element.inputType == \"file\"){\r\n                      arrayElements[element.name] = state.photoUrl\r\n                  }else if(element.name == \"settings\"){\r\n                    if(element.inputType == \"colorPicker\"){\r\n                 \r\n                        let colorPicker = {\r\n                          \"card-color\": state.checkedColor\r\n                        }\r\n                        arrayElements[element.name] = colorPicker\r\n                    }\r\n                 }else if(element.inputType == \"checkbox\"){\r\n                      arrayElements[element.name] = document.getElementById(element.name).checked\r\n                 }else{\r\n                      arrayElements[element.name] = document.getElementById(element.name).value\r\n                 }\r\n          });\r\n      \r\n          let axiosConfig = {\r\n              headers: {\r\n                  \"Authorization\": \"Bearer \"+ apiToken.token\r\n              }\r\n          };\r\n           await axios.put(getters.apiDomain + modelName + '/' + state.selectedHashId , arrayElements , axiosConfig)\r\n          .then((res) => {\r\n              state.successMessage = successMessage\r\n              state.ifStatusSucess = true\r\n              setTimeout(() => {\r\n                state.ifStatusSucess = false\r\n              },1500)\r\n              state.reload = true\r\n              state.showModalUpdate = false\r\n              state.loading = false\r\n\r\n            \r\n          })\r\n          .catch((err) => {\r\n              state.loading = false\r\n              state.errorMessage = err.response.data.error\r\n              setTimeout(() => {\r\n                state.errorMessage = \"\"\r\n                state.ifStatusSucess = null\r\n              },2500)\r\n              console.log(\"AXIOS ERROR: \", err.response.data.error);\r\n          })\r\n          return state.ifStatusSucess\r\n        \r\n      }\r\n   \r\n    },\r\n    async saveData({getters,state},[array, modelName, file, successMessage]){\r\n    \r\n       var arrayElements = {}; \r\n      let apiToken = await getters.apiToken()  \r\n      \r\n      //Checking if have photo\r\n      if(file != null && file != \"\"){\r\n\r\n        let apiTokenPhoto = await getters.apiToken()  \r\n        await axios.post(getters.apiDomain + 'uploads',\r\n        file,\r\n        {\r\n        headers: {\r\n            'Content-Type': 'multipart/form-data',\r\n            \"Authorization\": \"Bearer \"+ apiTokenPhoto.token\r\n          }\r\n        })\r\n        .then((response) => {\r\n                 state.checkIfValidToSave = true\r\n                 state.photoUrl = \"http://\" + state.apiDetails.domain + response.data[0].photoUrl  + '?width=300&height=300&percentage=100'\r\n        })\r\n        .catch((err) => {\r\n            state.checkIfValidToSave = false\r\n            state.loading = false\r\n            state.errorMessage = err.response.data.error\r\n            state.ifStatusSucess = false\r\n            setTimeout(() => {\r\n              state.errorMessage = \"\"\r\n              state.ifStatusSucess = null\r\n            },2500)\r\n            console.log(\"AXIOS ERROR: \", err.response.data.error);\r\n            return state.errorMessage\r\n        })\r\n\r\n      }else{\r\n          state.checkIfValidToSave = true\r\n          state.photoUrl = \"\"\r\n      }\r\n      //Check if photo is valid \r\n      if(state.checkIfValidToSave == true){\r\n\r\n\r\n         array.forEach(function(element){\r\n         \r\n                if(element.inputType == \"number\"){\r\n                    let number = document.getElementById(element.name).value\r\n                    if(number == \"\" || number == null ){\r\n                      arrayElements[element.name] = 0\r\n                    }else{\r\n                      arrayElements[element.name] = document.getElementById(element.name).value\r\n                    }\r\n                }else if(element.inputType == \"file\"){\r\n                    arrayElements[element.name] = state.photoUrl\r\n                }else if(element.name == \"settings\"){\r\n                    if(element.inputType == \"colorPicker\"){\r\n                      let colorPicker = {\r\n                        \"card-color\": state.checkedColor\r\n                      }\r\n                      arrayElements[element.name] = colorPicker\r\n                    }\r\n                }else if(element.inputType == \"checkbox\"){\r\n                      arrayElements[element.name] = document.getElementById(element.name).checked\r\n                }else if(element.inputType == \"hidden\"){\r\n                      arrayElements[element.name] = state.userGroupHashId\r\n                }else{\r\n                    arrayElements[element.name] = document.getElementById(element.name).value\r\n                }\r\n          });\r\n\r\n          console.log(arrayElements)\r\n      \r\n          let axiosConfig = {\r\n              headers: {\r\n                  \"Authorization\": \"Bearer \"+ apiToken.token\r\n              }\r\n          };\r\n           await axios.post(getters.apiDomain + modelName , arrayElements , axiosConfig)\r\n          .then((res) => {\r\n              state.successMessage = successMessage\r\n              state.ifStatusSucess = true\r\n              setTimeout(() => {\r\n                state.ifStatusSucess = false\r\n              },1500)\r\n              state.showModal = false\r\n              state.loading = false\r\n          })\r\n          .catch((err) => {\r\n              state.loading = false\r\n              state.errorMessage = err.response.data.error\r\n              state.ifStatusSucess = false\r\n              setTimeout(() => {\r\n                state.errorMessage = \"\"\r\n                state.ifStatusSucess = false\r\n              },2500)\r\n              console.log(\"AXIOS ERROR: \", err.response.data.error);\r\n          })\r\n          \r\n          return state.ifStatusSucess\r\n      }\r\n   \r\n     \r\n       \r\n    },\r\n    async getRequest({dispatch,getters}, options){\r\n      let apiToken = await getters.apiToken()\r\n      localStorage.setItem(\"apiToken\",apiToken.token);\r\n      localStorage.setItem(\"apiDomain\",getters.apiDomain);\r\n      localStorage.setItem(\"domain\",getters.apiIpAddress)\r\n      if(apiToken == undefined)\r\n           dispatch('logout')\r\n      let getResponse = await axios.get(getters.apiDomain + options.endpoint, {\r\n        params:{\r\n          ...options.urlParams\r\n        },\r\n        \"headers\": {\r\n          \"Authorization\": \"Bearer \"+apiToken.token\r\n        }\r\n      }).then((res) => {\r\n        // console.log(res);\r\n        return res\r\n      }).catch((err) => {\r\n        return err.response\r\n      })\r\n      //perform filtering here?\r\n      if(getResponse.status == 403){//Forbidden.. Get new token\r\n        await axios.get(getters.apiDomain+\"tokens\", {\r\n          params: {\r\n            \"ref\": apiToken.refreshToken\r\n          }\r\n        }).then((res) => {\r\n          //process new token\r\n        //  console.log(res.data)\r\n        }).catch((error) => {\r\n          console.log(error)\r\n          dispatch('logout')\r\n        })\r\n      }\r\n      // console.log(getResponse)\r\n      return getResponse\r\n    },\r\n    async cloudLastUpdatedAt ({dispatch},options) {\r\n      let cluaRes = await dispatch('getRequest',{\"endpoint\": options.endpoint, \"urlParams\":{...options.urlParams,\"q\": \"lastUpdatedAt\"}})\r\n      if(cluaRes.status == 200){\r\n        return cluaRes.data.lastUpdatedAt\r\n      }else{\r\n        return '2010-01-01T00:00:00.000Z'\r\n      }\r\n    },\r\n    async getUpdateCount({dispatch},options){\r\n      let cucRes = await dispatch('getRequest',{\"endpoint\": options.endpoint, \"urlParams\":{...options.urlParams,\"q\": \"count\"}})\r\n      if(cucRes.status == 200){\r\n        return cucRes.data.count\r\n      }else{\r\n        return -1\r\n      }\r\n    },\r\n    async logout({state}){\r\n      try{\r\n        await state.db.tokens.clear()\r\n        window.localStorage.removeItem('currentUser')\r\n        router.push('/login')\r\n      }catch(err){\r\n        console.log(\"error\")\r\n      }\r\n    },\r\n    async getBranches({getters}){\r\n      try{\r\n        let branches = await getters.getBranches()\r\n        return branches\r\n      }catch(err){\r\n        console.log(err)\r\n      }\r\n    },\r\n    async getApiDomain({getters}){\r\n      try{\r\n        let apiDomain = await getters.apiDomainLink()\r\n        localStorage.setItem(\"apiDomain\",apiDomain)\r\n        return apiDomain\r\n      }catch(err){\r\n        console.log(err)\r\n      }\r\n    },\r\n    async isSuperAdmin({getters}){\r\n      let u = await getters.currentUser()\r\n      //console.log(u.userGroup)\r\n      if(u.userGroup.name == 'Super Admin')//check if has the same hashID\r\n        {\r\n          localStorage.setItem('isAdmin',true)\r\n        }\r\n    },\r\n  },\r\n  getters:{\r\n    apiIpAddress: function(state){\r\n      return state.apiDetails.domain\r\n    },\r\n    apiDomainLink: (state) => async () => {\r\n      return state.apiDetails.channel+'://'+state.apiDetails.domain+'/api/v'+state.apiDetails.version+'/'\r\n    },\r\n    apiDomain: function (state){\r\n      return state.apiDetails.channel+'://'+state.apiDetails.domain+'/api/v'+state.apiDetails.version+'/'\r\n    },\r\n    apiToken: (state) => async () => {\r\n      var resToken = await state.db.tokens.orderBy(':id').last()\r\n      return resToken\r\n    },\r\n    currentUser: (state) => async() => {\r\n      var user = await state.db.users.get({\"hashId\": localStorage.getItem('currentUser')})\r\n      return user\r\n    },\r\n    getAccessibleBranches: (state) => async() => {\r\n      let users = await state.db.users.get({\"hashId\": localStorage.getItem('currentUser')})\r\n      return users\r\n    },\r\n    getBranches: (state) => async() => {\r\n      let user = await state.db.users.get({\"hashId\": localStorage.getItem('currentUser')})\r\n      let branchList = user.userGroup.policy.branches.list;\r\n      let arrayItems = []\r\n      branchList.forEach(function(element) {\r\n          state.db.branches.where({hashId: element }).each(function (branchList) {\r\n            arrayItems.push(branchList);\r\n            localStorage.setItem('listOfBranches', JSON.stringify(arrayItems));\r\n         }).catch(function (error) {\r\n            console.error(error);\r\n        });\r\n      });\r\n      return arrayItems\r\n   },\r\n    currentAccount: (state) => async() => {\r\n      var account = await state.db.accounts.get({\"hashId\": localStorage.getItem('currentAccount')})\r\n      if(account == null){\r\n        account = {\"name\": \"admin\", \"hashId\": localStorage.getItem('currentAccount')}\r\n      }\r\n      return account\r\n    },\r\n    hasAccess: (state) =>  async (page, userAction, hashObject) => {\r\n      //fetch the user\r\n      var user = await state.db.users.get({\"hashId\": localStorage.getItem('currentUser')})\r\n      var ug = user.userGroup\r\n     \r\n      //check the user groups\r\n      var hasAccess = false\r\n      if(ug.policy[page] != undefined){\r\n       if(ug.policy[page][userAction] !=  undefined){\r\n         if(ug.policy[page][userAction] == '*' || ug.policy[page][userAction].includes(hashObject))\r\n         console.log\r\n           hasAccess = true\r\n       }else{\r\n         console.log(\"Action not defined\")\r\n       }\r\n      }else{\r\n        console.log(\"Policy not defined\")\r\n      }\r\n      return hasAccess\r\n    },\r\n    lastUpdatedAtUtc: (state) =>  async (objectName) => {\r\n      try{\r\n        var ou = await state.db.objectUpdates.get({\"accountHashId\": localStorage.getItem('currentAccount'), \"tableName\": objectName})\r\n        if(ou != undefined){\r\n          return ou.lastUpdatedAtUtc\r\n        }else{\r\n          return '2010-01-01T00:00:00.000Z'\r\n        }\r\n      }catch(e){\r\n        console.log(e)\r\n        return '2010-01-01T00:00:00.000Z' //table does not exist\r\n      }\r\n    },\r\n    updateLocalTimestamp: (state) => async (objectName, newDate) => {\r\n      const accountHashId = localStorage.getItem('currentAccount')\r\n      state.db.objectUpdates.put({\"accountHashId\": accountHashId, \"tableName\": objectName, lastUpdatedAtUtc: newDate})\r\n    }\r\n  }\r\n})\r\n"]}]}