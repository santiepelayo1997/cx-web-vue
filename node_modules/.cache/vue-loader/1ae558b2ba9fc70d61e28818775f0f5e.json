{"remainingRequest":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\src\\views\\ChangePassword.vue?vue&type=style&index=0&id=1effb4b6&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\src\\views\\ChangePassword.vue","mtime":1576658290361},{"path":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\node_modules\\css-loader\\index.js","mtime":1571017171576},{"path":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1571017172902},{"path":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\node_modules\\postcss-loader\\src\\index.js","mtime":1571017172796},{"path":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1571017171362},{"path":"C:\\Users\\Santie\\Desktop\\CXWEBVUE\\cx-web-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1571017172902}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nbody{\r\n  overflow: hidden !important;\r\n}\r\nform {\r\n    padding-top: 72px;\r\n    padding-left: 52px;\r\n    padding-right: 52px;\r\n}\r\n.section-title{\r\n    font-family: \"Work Sans\";\r\n    font-weight: 550;\r\n    font-size:30px;\r\n    color: #43425D;\r\n    text-transform: capitalize;\r\n}\r\n",{"version":3,"sources":["ChangePassword.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ChangePassword.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n     <Navigation/>\r\n     <div class=\"container-fluid\">\r\n      \r\n             <div class=\"row\">\r\n                   \r\n                   <div class=\"col-md-12\">\r\n                    \r\n                        <form class=\"needs-validation\" novalidate>\r\n                            <h2 class=\"section-title\">Change Password </h2>\r\n                            <br>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"email\">Old Password:</label>\r\n                                <input type=\"password\" class=\"form-control\" v-model=\"oldPassword\" id=\"oldPassword\">\r\n                                <div class=\"invalid-feedback\">Please fill out this field.</div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"pwd\">New Password:</label>\r\n                                <input type=\"password\" class=\"form-control\" v-model=\"newPassword\" id=\"newPassword\">\r\n                                <div class=\"invalid-feedback\">Please fill out this field.</div>\r\n                            </div>\r\n                            <div class=\"form-group\">\r\n                                <label for=\"pwd\">Retype Password:</label>\r\n                                <input type=\"password\"  :oninput=\"checkPasscode\" class=\"form-control\" v-model=\"retypePassword\" id=\"retypePassword\">\r\n                                <div class=\"invalid-feedback\">Password did not match</div>   \r\n                            </div>\r\n                            <button type=\"submit\" @click=\"changePassword\" class=\"btn btn-primary\">Submit</button>\r\n                        </form>\r\n                   </div>\r\n                 </div>\r\n           </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Navigation from '@/components/Navigation.vue'\r\nimport Sidebar from '@/components/Sidebar.vue'\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n  name: 'ChangePassword',\r\n  mounted () {\r\n     \r\n\r\n  },\r\n  data:\r\n    function() {\r\n        return{\r\n            oldPassword: '',\r\n            newPassword: '',\r\n            retypePassword: ''\r\n        }\r\n    },\r\n  components: {\r\n      Navigation,\r\n      Sidebar\r\n  },\r\n  methods: {\r\n         async changePassword () {\r\n\r\n         let token = await localStorage.getItem(\"apiToken\");\r\n         let apiDomain = await localStorage.getItem(\"apiDomain\");\r\n         let currentUser = await localStorage.getItem(\"currentUser\");\r\n\r\n          let newPassword =  document.getElementById(\"newPassword\").value;\r\n          let oldPassword =  document.getElementById(\"oldPassword\").value;\r\n          let retypePassword =  document.getElementById(\"retypePassword\").value;\r\n        \r\n          if(oldPassword == \"\"){\r\n                document.getElementById(\"oldPassword\").classList.add('is-invalid');\r\n          }else{\r\n                document.getElementById(\"oldPassword\").classList.remove('is-invalid');\r\n          }\r\n          if(newPassword == \"\" && retypePassword == \"\"){\r\n                document.getElementById(\"newPassword\").classList.add('is-invalid');\r\n                 document.getElementById(\"retypePassword\").classList.add('is-invalid');\r\n          }else{\r\n                document.getElementById(\"newPassword\").classList.remove('is-invalid');\r\n                document.getElementById(\"retypePassword\").classList.remove('is-invalid');\r\n\r\n                if(newPassword!=retypePassword){\r\n                        document.getElementById(\"retypePassword\").classList.add('is-invalid');\r\n                        return false;\r\n                }else{\r\n                        document.getElementById(\"retypePassword\").classList.remove('is-invalid');\r\n                }\r\n          }\r\n\r\n            let res = await axios({\r\n               method: 'post',\r\n                 url: apiDomain + 'users/' + currentUser + '/changepass',\r\n                 data: {\r\n                     oldPassword: this.oldPassword,\r\n\t                   newPassword: this.newPassword\r\n                 },\r\n                headers: {\r\n                    Authorization: 'Bearer ' + token\r\n                }\r\n             })\r\n             .then((res) => {\r\n                  alert(\"Succesfully Changed!\");\r\n                    this.$router.push({ name: 'login' })\r\n\r\n             })\r\n             .catch((err) => {\r\n                console.log(\"AXIOS ERROR: \", err);\r\n             })\r\n       }\r\n  },\r\n  watch:{\r\n  },\r\n  computed: {\r\n  }\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\nbody{\r\n  overflow: hidden !important;\r\n}\r\nform {\r\n    padding-top: 72px;\r\n    padding-left: 52px;\r\n    padding-right: 52px;\r\n}\r\n.section-title{\r\n    font-family: \"Work Sans\";\r\n    font-weight: 550;\r\n    font-size:30px;\r\n    color: #43425D;\r\n    text-transform: capitalize;\r\n}\r\n</style>"]}]}